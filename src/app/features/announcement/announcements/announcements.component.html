<div class="announcement-page">
  <h1 class="announcement-title">ğŸ“¢ Announcements</h1>

  @if (announcements.length > 0) 
  {
    <div class="announcements-container">
      <div class="announcement-card" *ngFor="let note of announcements">
        
        <!-- âŒ Delete Button (top-right corner) -->
        <button class="delete-btn"
                *ngIf="userRole.includes('ADMIN') || userRole.includes('TEACHER')"
                (click)="deleteAnnouncement(note)">
          âŒ
        </button>
  
        <div class="icon">ğŸ‰</div>
        <div class="content">
          <h3>{{ note.title }}</h3>
          <p>{{ note.description }}</p>
          <small class="date">ğŸ“… {{ note.date | date: 'mediumDate' }}</small>
        </div>
      </div>
    </div>
    @if ((userRole.includes('ADMIN') || userRole.includes('TEACHER'))) 
    {
      <button class="add-btn" (click)="toggleForm()">
        {{ showForm ? 'âŒ Cancel' : 'â• Add Announcement' }}
      </button>
  
      <div class="add-form" *ngIf="showForm">
        <input type="text" placeholder="Title" [(ngModel)]="newAnnouncement.title" />
        <textarea rows="3" placeholder="Description" [(ngModel)]="newAnnouncement.description"></textarea>
        <input type="date" [(ngModel)]="newAnnouncement.date" />
        <button class="submit-btn" (click)="addAnnouncement()">âœ… Submit</button>
      </div>
    }
  }@else 
  {
    @if ((userRole.includes('ADMIN') || userRole.includes('TEACHER'))) 
    {
      <button class="add-btn" (click)="toggleForm()">
        {{ showForm ? 'âŒ Cancel' : 'â• Add Announcement' }}
      </button>
  
      <div class="add-form" *ngIf="showForm">
        <input type="text" placeholder="Title" [(ngModel)]="newAnnouncement.title" />
        <textarea rows="3" placeholder="Description" [(ngModel)]="newAnnouncement.description"></textarea>
        <input type="date" [(ngModel)]="newAnnouncement.date" />
        <button class="submit-btn" (click)="addAnnouncement()">âœ… Submit</button>
      </div>
    }@else 
    {
      <div class="no-data-container">
        <p class="no-data">No announcements available.</p>
      </div>
    }
    
  }
  
</div>
